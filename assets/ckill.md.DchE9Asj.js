import{_ as n,c as l,j as i,a as t,G as k,a2 as h,B as p,o as e}from"./chunks/framework.CqvaAnBq.js";const C=JSON.parse('{"title":"Ck1lL","description":"","frontmatter":{"title":"Ck1lL","lastUpdated":"2024-07-04T00:00:00.000Z","updated":"2024-07-04T00:00:00.000Z","categories":"Script","tags":["Document","C++"]},"headers":[],"relativePath":"ckill.md","filePath":"ckill.md","lastUpdated":1720051200000}'),E={name:"ckill.md"};function r(d,s,g,y,F,c){const a=p("ArticleMetadata");return e(),l("div",null,[s[0]||(s[0]=i("h1",{id:"å¦‚ä½•è§£é™¤ckillç—…æ¯’çš„è‡ªå¯åŠ¨",tabindex:"-1"},[t("å¦‚ä½•è§£é™¤CkilLç—…æ¯’çš„è‡ªå¯åŠ¨ "),i("a",{class:"header-anchor",href:"#å¦‚ä½•è§£é™¤ckillç—…æ¯’çš„è‡ªå¯åŠ¨","aria-label":'Permalink to "å¦‚ä½•è§£é™¤CkilLç—…æ¯’çš„è‡ªå¯åŠ¨"'},"â€‹")],-1)),k(a),s[1]||(s[1]=h(`<div class="caution custom-block github-alert"><p class="custom-block-title">CAUTION</p><p>å¼ºè°ƒç”¨æˆ·åœ¨å¿«é€Ÿæµè§ˆæ–‡æ¡£æ—¶ä¹Ÿä¸åº”å¿½ç•¥çš„é‡è¦ä¿¡æ¯ã€‚<br><strong>äº†è§£è‡ªå¯åŠ¨ç—…æ¯’çš„å±å®³å’Œé¢„é˜²æ–¹æ³•ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿä¿æŠ¤è‡ªå·±çš„è®¡ç®—æœºå’Œç½‘ç»œç¯å¢ƒä¸å—æ¶æ„è½¯ä»¶çš„å¨èƒ</strong></p></div><p><code>Ck1lL</code>æ˜¯ä¸€ä¸ªé‡‡ç”¨C++ç¼–å†™çš„æ¶æ„è½¯ä»¶ï¼Œè®¾è®¡ç‹¡çŒ¾ï¼Œå®ƒä¸ä»…å°è£…äº†å¿…è¦çš„<code>DLL</code>ä»¥éšè—å…¶æ¶æ„è¡Œä¸ºï¼Œè¿˜èƒ½å¤Ÿç»“æŸç”¨æˆ·æ¡Œé¢ä¼šè¯ï¼ŒåŒæ—¶åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å‡ºæå“ä¿¡æ¯è¿›è¡Œå¿ƒç†æ”»å‡»ã€‚å°¤ä¸ºä¸¥é‡çš„æ˜¯ï¼Œå®ƒå…·æœ‰æ”¹å†™æ³¨å†Œè¡¨è‡ªå¯åŠ¨é¡¹çš„èƒ½åŠ›ï¼Œä»¥å®ç°å¼€æœºè‡ªå¯ï¼Œè¾¾åˆ°æŒç»­æ„ŸæŸ“çš„ç›®çš„ã€‚æ­¤å¤–ï¼Œè¯¥æ¶æ„è½¯ä»¶å…·å¤‡å…ˆè¿›çš„åæ£€æµ‹æŠ€æœ¯ï¼Œèƒ½å¤Ÿé€ƒé¿åŒ…æ‹¬ç«ç»’å’Œ360åœ¨å†…çš„ä¸»æµå®‰å…¨è½¯ä»¶çš„æ£€æµ‹ï¼Œä½¿ä¹‹éš¾ä»¥è¢«è¯†åˆ«å’Œæ¸…é™¤ç‚¹ <br></p><p>ä»¥ä¸‹å±•ç¤ºçš„æ˜¯ä¸€ä¸ªç®€æ˜“å·¥å…·ï¼Œå®ƒé€šè¿‡c++ä»£ç æ¥æ¸…é™¤<code>CkilL</code>æ¶æ„è½¯ä»¶å¯¹æ³¨å†Œè¡¨æ‰€åšçš„ä¿®æ”¹ã€‚è¯¥å·¥å…·çš„ç›®çš„æ˜¯æ’¤é”€ç—…æ¯’å¯¹ç³»ç»Ÿè‡ªå¯åŠ¨è®¾ç½®çš„ä¸å½“æ›´æ”¹ï¼Œä»¥é˜²æ­¢å…¶åœ¨ç³»ç»Ÿé‡å¯åå†æ¬¡æ¿€æ´»ï¼Œä»è€Œä¿æŠ¤æ‚¨çš„ç³»ç»Ÿä¸å—è¿›ä¸€æ­¥ä¾µå®³ï¼Œå¹¶ç»´æŒæ³¨å†Œè¡¨çš„å®Œæ•´æ€§ã€‚</p><div class="language-c++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;Windows.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ é™¤è‡ªå¯åŠ¨æ³¨å†Œè¡¨é¡¹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RemoveSelfStartupEntry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    HKEY hKey;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ‰“å¼€æ³¨å†Œè¡¨é”®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RegOpenKeyExW</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(HKEY_CURRENT_USER, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">L&quot;Software</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Microsoft</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Windows</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CurrentVersion</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Run&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, KEY_WRITE, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hKey) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ERROR_SUCCESS) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åˆ é™¤è‡ªå¯åŠ¨é¡¹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> wchar_t*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> appName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> L&quot;WindowsSystem&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RegDeleteValueW</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(hKey, appName) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ERROR_SUCCESS) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::wcerr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> L&quot;æ— æ³•åˆ é™¤æ³¨å†Œè¡¨å€¼: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> appName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::endl;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å…³é—­æ³¨å†Œè¡¨é”®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    RegCloseKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(hKey);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åˆ é™¤è‡ªå¯åŠ¨é¡¹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RemoveSelfStartupEntry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::wcout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> L&quot;è‡ªå¯åŠ¨é¡¹å·²åˆ é™¤ã€‚&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::endl;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::wcerr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> L&quot;åˆ é™¤è‡ªå¯åŠ¨é¡¹å¤±è´¥ã€‚&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::endl;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>å¦‚æœä½ å‘ç°è¿™ç¯‡æŒ‡å—æœ‰ç”¨ï¼Œæˆ–è€…æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬æˆ–å‚ä¸è®¨è®ºã€‚</strong>ğŸ‰ ğŸ‰ ğŸ‰</p>`,5))])}const u=n(E,[["render",r]]);export{C as __pageData,u as default};
